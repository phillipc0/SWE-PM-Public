<nav class="navbar navbar-expand-lg navbar-main">
    <div class="container">
        <a class="navbar-brand" href="/projects">
            <img src="/assets/img/logo.png" alt="Logo" width="30" height="30"
                 class="d-inline-block align-text-top">
            PROJIO
        </a>

        <!--- projectTitleSpace--->
        <div>
            <h3 class="title fw-semibold align-self-end" id="projectTitleNav"></h3>
        </div>

        <div class="mx-5 hstack gap-3" id="navbarElements">
            <!-- The createUser button now comes after the navbar elements -->
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <!-- Weitere Navbar-Elemente -->
                </ul>
            </div>

            <!-- Create User Button-->
            <a id="createUserBTN" class="dropdown hstack gap-3" title="Nutzer erstellen" data-bs-toggle="modal"
               data-bs-target="#createUserModal" style="visibility: hidden; margin-right: 0px; margin-left: 0px;">
                <img src="/assets/svg/person-add.svg" alt="Neuen Mitarbeiter anlegen" id="personAddSvg" width="24"
                     height="24">
            </a>

            <!-- Dark Mode Toggle Button -->
            <div class="dropdown" title="Darkmode" onclick="toggleDarkMode()">
                <img id="darkModeIcon" src="/assets/svg/dark-mode-toggle.svg" alt="Toggle Dark Mode" width="24"
                     height="24">
            </div>

            <!-- Projektauswahl -->
            <a class="dropdown notebook-dropdown" title="Zur Projektauswahl" href="/projects">
                <img id="projectselection" src="/assets/svg/projectselection.svg" alt="Projektauswahl" width="24"
                     height="24">
            </a>

            <!--- mailbox dropdown --->
            <div class="dropdown mailbox-dropdown" title="Ihre Benachrichtigungen"
                 onclick="toggleDropdown('mailbox-dropdown-content')">
                <img id="mailboxImage" src="/assets/svg/mailbox.svg" alt="Mailbox" width="24" height="24">
                <div class="dropdown-content mailbox-dropdown-content" id="mailbox-content"
                     style="max-height: 450px; overflow-y: auto;">

                </div>
            </div>

            <!--- user dropdown --->
            <div class="dropdown user-dropdown" title="Profil anzeigen"
                 onclick="toggleDropdown('user-dropdown-content')">
                <img src="/assets/svg/person-circle.svg" alt="User" width="24" height="24">
                <div class="dropdown-content user-dropdown-content">
                    <p id="navbarUser">unknown</p>
                    <p id="navbarUserEmail">unknown</p>
                    <p id="navbarUserRole">unknown</p>
                    <button type="button" class="btn btn-teal" data-bs-toggle="modal"
                            data-bs-target="#logoutModal">
                        Abmelden
                    </button>
                </div>
            </div>

        </div>


        <!--- logout confirmation modal --->
        <div class="modal fade modal-cust" id="logoutModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Wirklich abmelden?</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
                        <a type="button" class="btn btn-danger" href="/logout">Abmelden</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create user modal -->
        <div class="modal modal-cust fade" id="createUserModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Nutzer anlegen</h5>
                        <button id="createUserModalClose" type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="userCreateForm">
                            <div class="mb-3">
                                <label for="createUser_name" class="form-label">Name</label>
                                <input type="text" class="form-control" name="name" id="createUser_name" required
                                       maxlength="30">
                            </div>
                            <div class="mb-3">
                                <label for="createUser_email" class="form-label">E-Mail</label>
                                <input type="email" class="form-control" name="emailAddress" id="createUser_email"
                                       required>
                            </div>
                            <div class="mb-3">
                                <label for="createUser_password" class="form-label">Passwort</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" name="password" id="createUser_password"
                                           required readonly>


                                    <button type="button" class="btn-teal input-group-text" id="generatePW">Passwort
                                        generieren
                                    </button>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Rolle</label>
                                <div class="input-group" role="group" aria-label="Basic radio toggle button group">
                                    <input type="radio" value="EMPLOYEE" class="btn-check" name="role" id="employee"
                                           autocomplete="off"
                                           checked>
                                    <label style="border-radius: 0.375rem 0 0 0.375rem;
        border-left-width: 1px; " class="btn btn-outline-primary form-control input-group-text left-rounded"
                                           for="employee">Mitarbeiter</label>

                                    <input type="radio" value="PROJECT_MANAGER" class="btn-check" name="role"
                                           id="projectManager"
                                           autocomplete="off">
                                    <label class="btn btn-outline-primary form-control input-group-text"
                                           for="projectManager">Projektmanager</label>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer" style="align-content: center">
                        <p id="createUser_status" class="text-error"></p>
                        <input id="confirmUserCreateForm_btn" type="submit" class="btn btn-teal float-end"
                               form="userCreateForm"
                               value="Nutzer erstellen">
                    </div>
                </div>
            </div>
        </div>
    </div>


</nav>
